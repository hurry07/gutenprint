INTRODUCTION

    This is Gimp-Print version 4.1.99b4, the fourth beta release
    leading up to the 4.2 stable release.  Gimp-print is the print
    facility for the Gimp, and in addition a suite of drivers that may
    be used with common UNIX spooling systems using GhostScript or
    CUPS.  These drivers provide printing quality for UNIX/Linux in
    many cases equal to or better than proprietary vendor-supplied
    drivers, and can be used for many of the most demanding printing
    tasks.

    Please read this README, and the NEWS file carefully!  Many things
    have changed from previous releases.

    A user's manual exists in doc/users_guide; it is normally
    installed in PDF and HTML form in /usr/local/share/gimp-print/doc.
    This manual covers setup and use of the GIMP Print plug-in and the
    CUPS driver.


BASIC INSTALLATION

    Gimp-Print includes the following primary components:

      - The core driver, libgimpprint.so
      - A user's manual
      - A Print plug-in for the GIMP
      - A Ghostscript driver, stp
      - A CUPS (Common UNIX Printing System) driver
      - Support for the Foomatic spooler configuration system

    By default, Gimp-Print builds the Print plugin for the GIMP, the
    user's manual, and a utility to perform head cleaning, nozzle
    alignment, and other tasks on EPSON Stylus inkjet printers, named
    "escputil".  Directions for building other components are listed
    below.

    Please check our web site at http://gimp-print.sourceforge.net for
    details about what is and is not supported.

    Please report any problems to gimp-print-devel@sourceforge.net.

    In general, to build Gimp-Print, you run the following commands:

    ./configure [options]
    make
    make install


THE GIMP

    To build and install the Gimp Print plug-in:

    ./configure [--with-gimp]
    make
    make install

    You may optionally specify --with-gimp if you wish to be explicit
    about building the Gimp Print plugin; --with-gimp is implied, so
    you do not actually need to specify it.

    This installs the GIMP Print plugin in your system plug-in
    directory.  If you wish to install it in your personal plugin
    directory, you may use

    ./configure --enable-user-install

    If you have installed the Gimp as a precompiled package
    (e. g. from an RPM), you will need to install the gimp-devel
    package as well as the gimp package.  The gimp package as supplied
    in most distributions only contains what's needed to run the Gimp.
    The gimp-devel package contains additional files required to
    actually build new plugins.  On some systems, you will also need
    to install gtk-devel and glib-devel packages as well.

    If you have installed the Gimp from source on Linux: after running
    make install, you must run ldconfig as root before attempting to
    build this plugin.

    Gimp-print 4.2 beta requires the Gimp 1.2.


CUPS

    This package includes a CUPS driver that may be built, allowing
    use of this software for general printing purposes.  To build and
    install the CUPS driver, you must run:

    ./configure --with-cups
    make
    make install
    /etc/software/init.d/cups restart

    The last command varies with your operating system.  It is
    typically /etc/init.d/cups, /etc/rc.d/cups, or even
    /etc/rc.d/init.d/cups.

    Following this, you must reinstall any printers that you are using
    Gimp-Print PPD's with.  Such printers may be identified in any
    CUPS front end (e. g. KUPS, or via the web interface) because they
    look something like this:

		    EPSON Stylus Photo EX, CUPS+GIMP-print v4.1.99-rc1(en)

    If the version number (in this case, 4.1.99-rc1) does not match
    the version of Gimp-Print that you are installing, you must use
    Modify Printer to force the new PPD file to get installed.
    Failure to do so may lead to incorrect output and/or other errors!

    You may also have problems if you have a .lpoptions file that has
    old options set.  If you have problems printing, please remove any
    existing .lpoptions file in your home directory and try printing
    again.

    If you do not wish to build the Gimp Print plugin, you must run

    ./configure --with-cups --without-gimp

    We recommend that all users who wish to use this package for
    general purpose printing install CUPS and use that as their
    printing system, rather than the traditional lpd or lp systems.
    It is much simpler to manage than lpd, and provides an excellent
    web-based interface for both administration and use.  Please visit
    http://www.cups.org for information on downloading and installing
    CUPS.


FOOMATIC

    This package includes support for the Foomatic meta-driver package.
    This requires the foomatic-xml distribution.  Foomatic is available
    from http://www.linuxprinting.org/foomatic.html.  It is also available
    in Debian unstable.  For best results, use the version in cvs.  The
    first version of Foomatic (the one used with Gimp-Print 4.0) is not
    compatible with Gimp-Print 4.2.  Note that the Foomatic driver is
    named `stp' in Gimp-Print 4.0; in Gimp-Print 4.2 it is named
    `gimp-print'.

    To build the Foomatic data, you must run:

    ./configure --with-foomatic
    make
    make install

    The "make install" step will add the necessary data to your Foomatic
    installation.  It will not create the spooler-specific data files; to
    do that, you must follow this procedure:

      - examine the output of `foomatic-configure -O', and find the
	foomatic ID for your printer.

      - Run foomatic-datafile with that printer ID, the driver name
	'gimp-print', and the spooler type you wish to use.
	foomatic-datafile -h explains how to run this program.  It
	will generate a foomatic filter datafile on stdout.

      - This datafile may then be used instead of the ones from the
	linxuprinting.org website.  Follow the instructions for your
	spooler from the website to install the data file and filter.

    Note that it almost never makes sense to build the Foomatic driver
    without also building the Ghostscript driver, even if Foomatic is
    to be used with CUPS (CUPS-o-matic).  Please read the instructions
    below in the GHOSTSCRIPT section.

    If you do not wish to build the Gimp Print plugin, you must run

    ./configure --with-foomatic --without-gimp

    Please visit http://www.linuxprinting.org/foomatic.html for more
    information on Foomatic.

    Foomatic provides an alternate interface to CUPS, in addition to
    an interface to lpd and LPRng.


GHOSTSCRIPT

    This package includes a Ghostscript driver that may be built,
    allowing use of this software for general printing purposes.

    We *strongly* recommend that end users not attempt to use this
    driver directly.  The available options are very complex, and the
    standard printer configuration tools (such as apsfilter and
    magicfilter) are not designed for drivers such as Gimp-print, and
    do not provide a convenient interface to the driver's
    capabilities.  We recommend that end users either install CUPS, as
    described above, or use Foomatic to configure printer queues.
    CUPS is very easy to install, configure, and use, and is the
    recommended solution.

    Please read src/ghost/README for more information, including how
    to build and install it, and available options; the build
    procedure here merely creates the necessary source files that you
    must add to your Ghostscript source.  The directions vary for
    different versions of Ghostscript.  Only Ghostscript 5.10, 5.50,
    and 6.51 are currently supported.  In particular, versions of
    Ghostscript that are not licensed under the GNU General Public
    License (GPL) are not supported, and this driver may not be
    distributed with such a version.

    Note that many of the options to the Ghostscript driver are
    incompatible with the options used prior to release 4.1.99-a3.
    Please read src/ghost/README for information on the current
    options.


KNOWN BUILD ISSUES

    * There is a known complication building "escputil" that causes
      problems on some systems.  "escputil" uses the "readline"
      package, to support command editing and history within the
      program.  Unfortunately, linking programs with "readline" often
      requires linking against additional libraries, and the exact
      library depends upon the system (e. g. not all Linux systems
      have the same requirements).

      The configure script attempts to determine which additional
      library must be linked against.  It tries using the following
      libraries in this order to build a test executable:

      -lncurses
      -lcurses
      -ltermcap
      no additional libraries

      The reason it tries other libraries first is that some systems
      will link successfully, but only fail when an attempt is made to
      actually call readline.  Therefore, we assume that additional
      libraries are required.  Since we try the extra libraries in
      order from most recent to oldest, we expect that the first one
      we find will be appropriate.  For example, if the "ncurses"
      library is the standard on a given system, the "termcap" library
      may be provided for back compatibility, but it is unlikely that
      "termcap" will be the standard with "curses" or "ncurses" being
      provided for compatibility only (so that the link will succeed
      but the command will use the incorrect library).

      As this procedure is not failsafe, we provide the following
      configure options to control this behavior:

      ./configure --with-readline=yes  (the default; attempts to
				       determine the correct library
				       to link against)

      ./configure --with-readline=no   (turns off use of readline
				       altogether)

      ./configure --with-readline=only (specifically instructs
				       configure to not attempt to
				       link against any other
				       libraries)

      ./configure --with-readline=libs (specifies the libraries to be
				       linked against)

      An hypothetical (this won't work anywhere!) example of the
      latter would be

      ./configure --with-readline='-lncurses -ltermcap'

      Note that configure will not allow readline to be used if it
      cannot successfully build the test program, regardless of the
      option selected.  If you are having difficulty getting escputil
      to build, we suggest using --with-readline=no.  The commands
      used within escputil are very short and seldom require
      significant editing.


RECOMMENDED SETTINGS

    We recommend starting with all default settings for the color
    settings.  The settings can be adjusted as necessary for
    particular combinations of ink, paper, and subject material.

    We recommend use of the Adaptive Hybrid dithering algorithm in
    most cases.  Ordered dithering also works very well in many cases,
    and is somewhat faster, but it does not work very well with text
    and very fine details (certain kinds of line art), particularly at
    high resolutions.  Fast dithering is also quite usable in many
    cases.

    On most inkjet printers, 600 or 720 dpi will produce very high
    quality; 1200x1200 or 1440x720 dpi will produce extremely high
    quality.


SUPPORT

    1) Read the FAQ, in doc/FAQ.html.  Your question may be answered
       there.

    2) Read the user's manual, in doc/users_guide.

    3) There are public forums on Sourceforge dedicated to this
       package.  Please see
       http://sourceforge.net/forum/?group_id=1537 for more
       information.  The Help forum is a good source of information.

    4) If you have a technical support issue that does not appear to
       be a bug in the software, you can use the Tech Support Manager.
       Please see http://sourceforge.net/support/?group_id=1537.

    5) If you have found a clear bug in the package, you may file a
       bug report at http://sourceforge.net/bugs/?group_id=1537.

    6) You may send mail to the gimp-print-devel@sourceforge.net
       mailing list.  This is recommended as a last resort only.


PACKAGING

    We recommend that packagers and distributors of Gimp-print use the
    following settings to build the package:

    --with-foomatic
    --with-user-guide
    --with-samples
    --with-escputil

    We suggest the following packaging:

    * A gimp-print core package should contain the following.  You may
      wish to install the user's guide only in certain formats.

      /usr/lib/libgimpprint.so.1.0 (the core shared library)
      /usr/bin/escputil (Epson Stylus utility)
      /usr/share/gimp-print/doc/html (HTML documentation)
      /usr/share/gimp-print/doc/users-guide.pdf
      /usr/share/gimp-print/doc/users-guide.ps
      /usr/share/locale/*/LC_MESSAGES/gimp-print.mo

    * A gimp-print-devel package (for developers) should contain the
      following.  Again, you may wish to install the user's guide only
      in certain formats.

      /usr/include/gimp-print
      /usr/bin/gimpprint-config
      /usr/share/gimp-print/doc/manual-html
      /usr/share/gimp-print/doc/gimpprint.ps
      /usr/share/aclocal/gimpprint.m4
      /usr/lib/libgimpprint.a
      /usr/lib/libgimpprint.so

      You should also provide 

      You may wish to include the test pattern generator source and
      the sample test pattern in this package.

    * A gimp-print-extras package should contain

      /usr/share/gimp-print/samples

      You may wish to include the test pattern generator and the
      sample test pattern from src/testpattern if you don't include it
      in the developer package; test/unprint; test/pcl-unprint;
      test/bjc-unprint; test/parse-escp2; and test/parse-bjc in this
      package.

    * Ghostscript should be built with the stp driver using the "new"
      instructions (requiring only gdevstp.c, and linking dynamically
      against libgimpprint).  This will allow Ghostscript to operate
      with future 4.2 upgrade releases without requiring
      recompilation.

    * CUPS packages should include the Gimp-print PPD's in
      /usr/share/cups/model (you may wish to select only certain
      languages due to the volume of the data), and the following
      utilities:

      + "epson" and "canon" belong in /usr/lib/cups/backend.

      + "rastertoprinter", "commandtoepson", and "commandtocanon" belong
	in /usr/lib/cups/filter.

      + "cups-calibrate" belongs in /usr/bin.

      + "command.types" belongs in /etc/cups.

      + "calibrate.ppm" belongs in /usr/share/cups.

    * A gimp-print-foomatic package, containing
      src/foomatic/foomatic-db, should be provided to allow people who
      wish to use foomatic to install the corresponding data files.
      The packaging should arrange to call "foomatic-kitload" on this
      tree.

    * We recommend that you replace the Print plugin bundled with the
      Gimp (1.2.0~1.2.2) with the Gimp Print plugin in this
      distribution.  There are various ways to do this; you can run
      'make gimp-dist' from top level and untar the resulting tarball
      into the Gimp source directory prior to building the Gimp, or
      you can install the plugin (src/gimp/print) over an existing
      Gimp Print plugin.  The plugin in the Gimp 1.2 tree is based on
      the older Gimp-Print 4.0 source base; 4.2 supports more printers
      with better quality, and has more features than 4.0.


DEBIAN

    The Debian packaging has been rewritten from scratch as of 4.1.4.  It
    is compliant with Standards-Version 3.5.6.0, and is lintian-clean.  It
    should build from source on woody and sid, but will not build on potato.
    There are seven separate packages:

    gimp1.2-print	    The GIMP Print plugin. Also contains HTML
			    and SGML documentation that is registered
			    with doc-base.
    cupsys-driver-gimpprint The CUPS driver and PPD files.
    libgimpprint1	    The libgimpprint library (GIMP-Print core).
    libgimpprint-dev	    Headers, symlinks, m4 macro
			    (AM_PATH_GIMPPRINT) and gimpprint-config
			    needed to develop programs that link with
			    libgimpprint.
    gimpprint-doc	    User's Guide in HTML and PDF format
    libgimpprint-doc	    Programmer's Guide in Info, DVI and HTML
			    format.
    escputil		    The escputil printer tool for Epson printers.

    The library symlinks will get packaged without any modification needed
    to the debian packaging whatever library versioning scheme is
    used.  Most packages depend on libgimpprint as this will provide
    translations for i18n in the future that they will use, or they
    require libgimpprint anyway.

    The newer Debian gs packages (>= 5.50) are linked with libgimpprint, so
    you need not do any patching!  However, if you compile a newer version
    of libgimpprint, the newer version will be used by ghostscript.


USE OF THE CVS REPOSITORY

    Please read doc/README.maintaining for instructions on how to
    build from the CVS repository.
