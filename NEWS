                          -*- Mode: Text -*-

Gimp-Print 4.2.2-pre2, released June 5, 2002, is a prerelease in
the Gimp-Print 4.2 line.

This software includes the Print plug-in for the Gimp, and GhostScript
and CUPS drivers, including Foomatic data.

The Gimp Print plugin requires the Gimp 1.2.

The CUPS driver requires CUPS 1.1.9 or higher.  1.1.14 or above is
highly recommended, as certain translation-related bugs are fixed and
it is possible to print true CMYK.

The Ghostscript driver requires GNU Ghostscript 5.10, 5.50, 6.51, or any
later GNU Ghostscript release based on 6.51 (e. g. 6.52).

The IJS GhostScript plugin driver requires GNU Ghostscript 6.53 or later
or APFL GhostScript 7.04 or later.

Please read the README file for full instructions on building and
installing this package.

Gimp-Print 4.2.2-pre3 has been synced up to the development mainline
(4.3).  The changes are significant, and as a result this prerelease
is somewhat riskier than most stable prereleases.  It contains the
following major changes over Gimp-Print 4.2.2-pre2:

  1) Printing at very low vertical resolution (typically less than 360
     DPI; 360 DPI itself is fine) in black and white mode on some
     Epson printers either failed or produced incorrect results.  This
     bug has been present for a while.

  2) A failure in the CUPS installation has been fixed.

  3) The Even Tone dither algorithm now produces correct colors in
     CMYK mode.

  4) A portability issue in gimpprint-config has been fixed.

  5) An installation problem with the CUPS PPD files on systems
     lacking an appropriate install script has been fixed.

  6) Partial translations for Spanish and Portuguese have been added.

  7) Preliminary support for the Epson Stylus Photo 950 and 2100/2200,
     and the Stylus Pro 7600 and 9600.  The Stylus Photo 950 has been
     verified and partially tuned.  The other printers are untested
     and may or may work.

  8) The Gimp Print plugin will now compile properly on commercial
     UNIX systems that do not have the asprintf function (which is
     libc-specific).

  9) Quad tone grayscale inks, such as the Piezography (TM) inks, are
     now supported for most Epson Stylus printers.  This is not tuned
     for a particular inkset at this time, so the results will not be
     of top quality yet.

  10) Various improvements to EvenTone dithering.

  11) The printer data in the Epson driver has been substantially
     reorganized.  This allows the driver to support the new
     UltraChrome inks (for the Stylus Photo 2100/2200 and Stylus Pro
     7600 and 9600).  This will also permit the driver to support
     quadtone or hextone grayscale inks, although that capability is
     not enabled at present.

  12) The testpattern generator has some improvements, including the
     ability to print 16-bit images.  The image format is not
     documented, as this is likely to change, but people may wish to
     study the code and experiment with it.

The following bugs have been fixed in 4.2.2-pre2:

554149 solaris x86 install erroe
581446 Improper printing at very low resolution

Gimp-Print 4.2.2-pre2 contains the following major changes over
Gimp-Print 4.2.2-pre1:

  1) The IJS driver now handles very large images, such as those that
     can be produced on professional large format Epson Stylus Pro
     printers.

  2) A German translation has been added.

  3) An internal problem that caused crashes on some systems (in
     stp_vasprintf) has been fixed.

The following bugs have been fixed in 4.2.2-pre2:

565091 IJS driver fails on very large images
565092 Crash in stp_vasprintf on some systems

Gimp-Print 4.2.2-pre1 contains the following major changes over
Gimp-Print 4.2.1:

  1) A new dither algorithm, EvenTone, has been added.  This algorithm
     produces superior results for photographs and other
     continuous-tone images, but in its current form it may not be as
     well suited for solid color images and line art.  This algorithm
     should be considered beta.

  2) The default optimization level with gcc is now -O2 rather than
     -O.  This improves performance somewhat.

  3) Spanish and Portuguese translations have been added.


Gimp-Print 4.2.1 contains the following major changes over Gimp-Print
4.2.0:

* Major Bugs Fixed:

  1) Canon printers should now print with correct scaling at all
     supported resolutions, and the CMYK printers should print with
     optimum quality.  However, the photo printers (which use special
     cartridges with light cyan and magenta inks) are currently unable
     to use the photo cartridges; they are limited to ordinary CMYK
     printing.

  2) The escputil command is translated.

  3) It is now possible to print at all resolutions on large format
     PCL printers.

  4) The Ghostscript driver now prints with the same quality as the
     other drivers at all resolutions on all printers (in 4.2.0, Epson
     printers printed with poor quality at high resolutions).

  5) CUPS PPD files should operate correctly with the Adobe PostScript
     driver (and other PostScript drivers).

  6) Gimp-Print now builds successfully on Solaris, IRIX, AIX, and
     Macintosh OS X.

* New Functionality:

  1) A new driver, based on the IJS architecture, is included in this
     release.  This driver is compatible with GNU Ghostscript 6.53 and
     above, and AFPL Ghostscript 7.04 and above.  IJS is a new
     architecture for Ghostscript drivers; rather than having to build
     the driver into Ghostscript, the driver runs as a separate
     process.  Foomatic data is provided for this driver.

  2) New translations for the Slovak, Greek, and Dutch languages are
     provided.

* Quality Improvements:

  1) Additional tuning has been done for some Epson Stylus printers,
     in particular the Stylus Pro 5500, 7500, and 9500.

  2) Epson Stylus Pro printers can now print to letter size (and
     smaller) paper.

  3) The Very Fast dither algorithm has been sped up in certain cases.

  4) Some quality improvements for the Epson 680/777 driver.

* Exceptions and Workarounds:

  1) If you have built and installed the foomatic-db-gimpprint package
     from any gimp-print 4.2.1-pre* tarball, or from CVS, you will
     need to manually remove it prior to installing the final 4.2.1
     debs.  This is because it has been renamed to
     foomatic-db-gimp-print to match the foomatic naming scheme.
     There is only a guaranteed upgrade path between official releases
     to avoid unnecessary dependency complexities.

The following bugs have been fixed in 4.2.1:

485156 Debian build broken in 4.2.0
488865 escputil isn't translated
493772 360dpi is not a valid resolution
493838 canon print scaling broken
496813 Z42 issues
499200 ESP 1280/1290 need special deinit code
499203 ESP 780/820 have different paper codes
499299 z42 border
502713 Restricted resolution on DesignJet
507767 Parameters not set in CUPS driver
507770 Unset parameters in Ghostscript driver
507773 Old-style GS build broken
516268 Erroneous comparison
518224 makeinfo fails during build
521694 CUPS build broken in 4.2.1-pre1
525779 Buffering bug in epson cups backend
528922 rastertoprinter doesn't log pages
533400 Very fast dithering works incorrectly
537248 IJS driver mis-handles -r option
537293 IJS/foomatic driver crashes printing grayscale
538497 IJS driver sets incorrect paper size
538500 PCL driver crash
539013 IJS driver mispositions image on page
540307 Syntax error in CloseUI in PPD files
543562 Portability issues
548844 OS X support

The following critical bug has been reported against all 4.2 releases
to date and is unresolved in this release.  The symptoms are that
prints to Windows-hosted printers are incomplete: the bottom of the
last page will not be printed.  Some people have reported success when
the host is an NT-based system rather than a Windows 95/98/ME-based
system.  The only definitive workaround is to physically host the
printer on a UNIX/Linux system.  It is not known at this time if the
underlying problem is in Gimp-print or in other software.

510185 Incomplete print to Windows-hosted printers



Gimp-Print 4.2 contains the following major changes over Gimp-Print
4.0:


* Major Bugs Fixed from 4.0:

  1) A problem with fine black data printing incorrectly in 4.0 has
     been fixed.

  2) Very small images print correctly in the Gimp plugin.

  3) A number of minor bugs in scaling and positioning in the Gimp
     plugin are fixed.

  4) Printing pure black and white (monochrome) to black and white
     printers now works properly, rather than silently being converted
     to grayscale.

  5) The package prints correctly in grayscale when the source
     resolution is higher than the output resolution.


* General User-Visible Changes:

  1) Many additional printers are supported, including several Lexmark
     printers for the first time.  The list of supported printers is
     at the bottom of this release memo.

  2) Default printing resolutions are 300x300 or 360x360 DPI for all
     printers, rather than the lowest available resolution.  On Epson
     printers, the default 360x360 printing modes are in most cases
     higher quality than the default 360x360 mode in 4.0.

  3) The same defaults for all driver and printer characteristics
     apply to all front ends (the Gimp plugin, the CUPS driver, and
     the Ghostscript driver).

  4) A user's manual (for the CUPS driver and GIMP plugin) is now
     supplied with the package.

  5) A developer's manual is now supplied with the package.  This
     describes how to use the library interface, how to tune printers,
     and other topics.

  6) The package is now internationalized.  Full translations are
     available for Swedish and British English; partial translations
     are currently available for French, Norwegian, Danish, and
     Polish.


* Quality Improvements:

  1) Color accuracy in Photograph and Solid Colors mode is greatly
     improved over 4.0.  This is most noticeable on red, green, blue,
     and violet colors.  Generally, prints should need little if any
     tuning.

  2) Printed images are much smoother (more even) in texture.  This is
     particularly true on 6-color (photo) and variable drop size
     printers.  The transition between light and dark inks in 6-color
     printers should be invisible to the unaided eye at all but the
     lowest resolutions.

  3) In color mode, fine black detail prints much more accurately than
     previously.  Previously, fine black detail typically did not
     print solidly; this was particularly noticeable when printing
     groups of lines at high resolution.

  4) Epson printers support a greater range of resolutions and quality
     settings, from very low resolution draft mode up to 2880x1440 for
     the newest Epson printers.  This offers a full range of
     speed/quality tradeoffs for any printing application.  The
     emulated resolutions in 4.0 have been dropped, as they do not
     yield any improvement in quality under any circumstances that we
     have identified.

  5) Epson printers produce much better quality on plain paper than
     previously.

  6) All of the dithering algorithms, except for Hybrid
     Floyd-Steinberg (which is not recommended for most purposes) have
     been improved.  Ordered dithering is now on a par with Adaptive
     Hybrid dithering for most image types other than line art, and
     Fast and Very Fast are viable choices for test prints on even
     high quality printers.  The Adaptive Random and Random
     Floyd-Steinberg algorithms have been dropped, as they offer no
     advantage over the faster Adaptive Hybrid and Hybrid
     Floyd-Steinberg algorithms.

  7) PCL printers will print typical sparse text pages much more
     efficiently.

  8) The package as a whole will use significantly less memory,
     particularly when printing at high resolutions.


* Changes to the Gimp Print plugin:

  1) The plugin now provides tooltips for all controls (a
     much-requested feature!).

  2) The plugin now provides many new options for positioning the
     image on the page.  These options are described in the tooltip
     help for the preview window.

  3) The GUI has been considerably rearranged, and we hope it is more
     logical.

  4) Printing in black and white is now accomplished in the Output
     Type radio button group rather than the Image Type group.

  5) It is now possible to define a logical printer queue (essentially
     a group of settings saved under a name).

  6) The preview window is much more responsive than before.  The
     preview both moves more quickly and does not flash to as great a
     degree as before.

  7) The plugin will no longer allow settings that are inappropriate
     for the current printer or output mode.


* Changes to the CUPS Driver:

  1) The CUPS driver now offers color adjustment choices (currently in
     the form of choice menus).

  2) The CUPS driver now supports printing CMYK output, as well as
     RGB, grayscale, and black and white.

  3) The CUPS driver no longer allows attempts to print in color to
     black and white printers.

  4) The CUPS PPD files are now translated into several languages
     (currently British English, Swedish, French, Norwegian, Polish,
     and Danish).

  5) The CUPS driver will now terminate a job cleanly if the job is
     removed from the queue while it was printing.  The existing data
     will be flushed to the printer, following which the driver will
     cleanly terminate the print job.  Previously, the printer was
     left in an indeterminate state.

  6) The CUPS driver will build correctly on BSD-based systems.  This
     requires CUPS 1.1.11 or above.


* Changes to the Ghostscript Driver:

  1) A new, simplified build procedure is provided for use with
     Ghostscript 5.50 and 6.51.  This requires copying only one file
     into the Ghostscript source directory, and links dynamically
     against the driver library.  This permits upgrades to the 4.2
     driver library (e. g. to support new printers) without
     recompiling Ghostscript.  The old method is still available, but
     we recommend using the new procedure.

  2) Printing black and white only images is now accomplished with
     -dColor=2 rather than -dImageType=3.


* Miscellaneous changes:

  1) Escputil (a utility for managing Epson printers) is more robust
     than in 4.0, and uses the readline package where available for
     better interaction.

  2) Roll feed printing is supported for Epson printers with the
     capability, such as the Stylus Photo 870.

  3) The package supports custom page sizes for printers allowing
     this.  It also imposes minimum paper size limits for printers
     that require a minimum paper size.

  4) The Debian package build procedure is now compliant with
     Standards-Version 3.5.6.0 and is lintian-clean.  It will build on
     `woody' and later distributions.

  5) The compilation phase of the build emits more warnings than under
     4.0, particularly in the Gimp plugin.  These extra warnings are
     due to greater compiler checking of the code.


* Incompatibilities between 4.0 and 4.2:

  1) The options for the Ghostscript driver have changed incompatibly
     between 4.0 and 4.2.  Please read src/ghost/README for more
     information.

  2) The PPD files for the 4.2 CUPS driver are incompatible with the
     4.0 driver, and vice versa.  You must reinstall all of your print
     queues to use the new driver.

  3) The Foomatic data in the 4.2 distribution is generated during the
     build of the package, rather than being distributed statically.
     It requires the latest version of the Foomatic driver, and is
     incompatible with the Foomatic data in 4.0.  The 4.2 driver is
     named "Gimp-print" in Foomatic, as opposed to "stp" in 4.0.

  4) Printing pure black and white (not grayscale) images is
     different.  The exact procedure is described in the release notes
     for each front end.


* Known Limitations:

  1) The CUPS PPD files are not translated on all systems.  BSD
     systems in particular are known to fail to translate these files.
     This is discussed in detail in the README.

  2) The Epson Stylus C40UX (and very likely other printers in the C20
     and C40 lines) do not identify themselves.  Therefore,

     escputil -u -d

     will not return anything useful, and when performing print head
     alignment, the printer model must be specified, as autodetection
     will not work.

  3) The "align color" (-o) command to escputil does not currently
     work on the printers that should support it (Epson Stylus Color
     480 and 580, and C20SX, C20UX, C40SX, and C40UX).  We do not know
     if this is a bug in the software or a limitation of the printers.

  4) Changing ink cartridges on the Epson Stylus Color 480/580 is not
     supported.

  5) The drivers for the Epson Stylus Pro printers (5000, 5500, 7000,
     7500, 9000, 9500, and 10000) are only partially tested and tuned.
     They are known not to work correctly in many modes.

  6) The Epson Stylus Photo 2000P is not properly tuned and likely
     produces lower output quality than other Epson printers.

  7) The Canon BJC-8200 and S800 do not produce optimum quality.

  8) Many Epson printers (including the Stylus Photo 870/875, 1270,
     780/785/895, 890, 1280/1290, and 810/820) do not produce optimum
     quality on Premium Glossy Photo Paper.  In particular, color
     quality may not be at quite as high a standard as it is on the
     older Photo Paper.  The difference is subtle; for most purposes
     the output quality will be superb.  Tuning the color output may
     or may not improve the quality.

  9) The Postscript driver (ps and ps2) does not generate multi-page
     output correctly.  This should not be a major problem, as there
     is little reason to use it outside of the GIMP.  There are no
     plans at present to fix this bug.


* Internal changes:

  1) The interface between the core drivers and the front ends has
     been completely reimplemented.  There is now a core driver
     library (libgimpprint) with the front ends linking against it.
     The interface has been redesigned to some degree, allowing for
     better separation between driver and front-end concerns.

     The package takes full advantage of the autoconf machinery.

     Other front ends may be written against the driver; a test
     pattern generator is provided in src/testpattern that can be used
     to generate test patterns, or used as the basis for other
     applications.

     A gimpprint-config script, similar to gtk-config and gimp-config,
     is provided.

  2) The core driver package now operates in CMY space rather than RGB
     space.  The change has very little immediate effect, but it will
     enable significant improvements in future releases.

  3) Two new input modes (8 and 16 bit CMYK) are provided.  The 8-bit
     CMYK interface is gamma and density corrected; the 16 bit CMYK is
     a raw input, with no correction performed.  This is useful for
     applications desiring the greatest possible control over the
     output while taking advantage of the dithering and device driving
     capabilities of the package.

  4) The "unprint" program supplied in the test directory is much more
     functional and accurate than previously.


Supported Printers:

Many variations on these printers are also supported.  Generally, the
Epson printers are fully supported, although not fully tuned in all
cases; the Canon, HP, and Lexmark printers vary.  Many printers
previously supported have greatly improved support.

PostScript level 1        (GIMP Plugin only)
PostScript level 2        (GIMP Plugin only)
CANON BJC 30
CANON BJC 50
CANON BJC 55
CANON BJC 80
CANON BJC 85
CANON BJC 210
CANON BJC 240
CANON BJC 250
CANON BJC 1000
CANON BJC 2000
CANON BJC 3000
CANON BJC 4300
CANON BJC 4400 photo
CANON BJC 6000
CANON BJC 6100
CANON BJC 7000
CANON BJC 7100
CANON BJC 8200
CANON S400                              (NEW)
CANON S450                              (NEW)
CANON S800                              (NEW)
CANON S4500                             (NEW)
EPSON Stylus C20SX                      (NEW)
EPSON Stylus C20UX                      (NEW)
EPSON Stylus C40SX                      (NEW)
EPSON Stylus C40UX                      (NEW)
EPSON Stylus C42UX                      (NEW)
EPSON Stylus C60                        (NEW)
EPSON Stylus C70                        (NEW)
EPSON Stylus C80                        (NEW)
EPSON Stylus Color
EPSON Stylus Color Pro
EPSON Stylus Color Pro XL
EPSON Stylus Color 400
EPSON Stylus Color 440
EPSON Stylus Color 460
EPSON Stylus Color 480                  (NEW)
EPSON Stylus Color 500
EPSON Stylus Color 580                  (NEW)
EPSON Stylus Color 600
EPSON Stylus Color 640
EPSON Stylus Color 660
EPSON Stylus Color 670
EPSON Stylus Color 680/777              (NEW)
EPSON Stylus Color 740
EPSON Stylus Color 760
EPSON Stylus Color 800
EPSON Stylus Color 850
EPSON Stylus Color 860
EPSON Stylus Color 880                  (NEW)
EPSON Stylus Color 83                   (NEW)
EPSON Stylus Color 900
EPSON Stylus Color 980                  (NEW)
EPSON Stylus Color 1160
EPSON Stylus Color 1500
EPSON Stylus Color 1520
EPSON Stylus Color 3000
EPSON Stylus Photo
EPSON Stylus Photo 700
EPSON Stylus Photo EX
EPSON Stylus Photo 720
EPSON Stylus Photo 750
EPSON Stylus Photo 780/785/790          (NEW)
EPSON Stylus Photo 810/820              (NEW)
EPSON Stylus Photo 870/875
EPSON Stylus Photo 890/895              (NEW)
EPSON Stylus Photo 950                  (NEW, partially tuned)
EPSON Stylus Photo 1200
EPSON Stylus Photo 1270
EPSON Stylus Photo 1280/1290            (NEW)
EPSON Stylus Photo 2000P
EPSON Stylus Photo 2100                 (NEW, experimental)
EPSON Stylus Photo 2200                 (NEW, experimental)
EPSON Stylus Pro 5000                   (NEW)
EPSON Stylus Pro 5500                   (NEW)
EPSON Stylus Pro 7000                   (NEW)
EPSON Stylus Pro 7500                   (NEW)
EPSON Stylus Pro 7600                   (NEW, experimental)
EPSON Stylus Pro 9000                   (NEW)
EPSON Stylus Pro 9500                   (NEW)
EPSON Stylus Pro 9600                   (NEW, experimental)
EPSON Stylus Pro 10000                  (NEW, partially functional)
EPSON Stylus Scan 2000                  (NEW)
EPSON Stylus Scan 2500                  (NEW)
HP DeskJet 340
HP DeskJet 400
HP DeskJet 500
HP DeskJet 500C
HP DeskJet 520
HP DeskJet 540C
HP DeskJet 550C
HP DeskJet 560C
HP DeskJet 600/600C (Single Cartridge)
HP DeskJet 600 series (2 Cartridge)
HP DeskJet 690 series (Photo-Ink capable)
HP DesignJet 750                        (NEW)
HP DeskJet 810C
HP DeskJet 812C
HP DeskJet 840C
HP DeskJet 842C
HP DeskJet 845C
HP DeskJet 850C
HP DeskJet 855C
HP DeskJet 870C
HP DeskJet 890C
HP DeskJet 895C
HP DeskJet 900 series
HP PhotoSmart P1000
HP DeskJet 1100C
HP PhotoSmart P1100
HP DeskJet 1120C
HP DeskJet 1200C
HP DeskJet 1220C
HP DeskJet 1600C
HP DeskJet 2000 series
HP DeskJet 2500 series
HP LaserJet II series
HP LaserJet III series
HP LaserJet 4 series
HP LaserJet 4V, 4Si
HP LaserJet 5 series
HP LaserJet 5Si
HP LaserJet 6 series
Lexmark 4076
Lexmark Z42                             (NEW)
Lexmark Z43                             (NEW)
Lexmark Z52                             (NEW)
Lexmark Z53                             (NEW)
